<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Courier Game</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            background-color: #f7f7f7;
        }
        canvas {
            display: block;
            background-color: #fff;
            margin: 0 auto;
        }
        #gameCanvas {
            position: absolute;
            top: 0;
            left: 0;
        }
        #gameOver {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 48px;
            font-family: Arial, sans-serif;
            color: red;
            display: none;
        }
    </style>
</head>
<body>
    <canvas id="gameCanvas"></canvas>
    <div id="gameOver">Game Over</div>

    <script>
        const canvas = document.getElementById("gameCanvas");
        const ctx = canvas.getContext("2d");
        const gameOverElement = document.getElementById("gameOver");

        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        const courierImage = new Image();
        courierImage.src = 'https://github.com/your-username/your-repository/raw/main/courier.png'; // Замените на ваш URL PNG

        const courier = {
            x: 50,
            y: canvas.height - 150, // Разместим курьера внизу
            width: 50,
            height: 100,
            speed: 5,
            image: courierImage,
            moveUp: false,
            moveDown: false
        };

        let obstacles = [];
        let gameRunning = true;

        function createObstacle() {
            const height = Math.random() * (canvas.height / 2) + 20;
            const gap = Math.random() * 150 + 50;
            obstacles.push({
                x: canvas.width,
                y: Math.random() > 0.5 ? 0 : canvas.height - height,
                width: 20,
                height: height,
                gap: gap
            });
        }

        function updateObstacles() {
            for (let i = 0; i < obstacles.length; i++) {
                obstacles[i].x -= 5;

                if (obstacles[i].x + obstacles[i].width < 0) {
                    obstacles.splice(i, 1);
                    i--;
                }
            }
        }

        function drawObstacles() {
            for (const obstacle of obstacles) {
                ctx.fillStyle = "green";
                ctx.fillRect(obstacle.x, obstacle.y, obstacle.width, obstacle.height);
                ctx.fillRect(obstacle.x, obstacle.y + obstacle.height + obstacle.gap, obstacle.width, canvas.height - obstacle.height - obstacle.gap);
            }
        }

        function checkCollision() {
            for (const obstacle of obstacles) {
                if (courier.x + courier.width > obstacle.x && courier.x < obstacle.x + obstacle.width) {
                    if (courier.y < obstacle.height || courier.y + courier.height > canvas.height - obstacle.height) {
                        gameRunning = false;
                    }
                }
            }
        }

        function drawCourier() {
            ctx.drawImage(courier.image, courier.x, courier.y, courier.width, courier.height);
        }

        function updateCourier() {
            if (courier.moveUp && courier.y > 0) {
                courier.y -= courier.speed;
            }

            if (courier.moveDown && courier.y + courier.height < canvas.height) {
                courier.y += courier.speed;
            }
        }

        function drawGame() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            drawCourier();
            drawObstacles();
            updateObstacles();
            checkCollision();

            if (gameRunning) {
                requestAnimationFrame(drawGame);
            } else {
                gameOverElement.style.display = "block";
            }
        }

        function gameLoop() {
            if (gameRunning) {
                createObstacle();
            }
            updateCourier();
            drawGame();
        }

        document.addEventListener("keydown", (e) => {
            if (e.key === "ArrowUp") {
                courier.moveUp = true;
            }
            if (e.key === "ArrowDown") {
                courier.moveDown = true;
            }
        });

        document.addEventListener("keyup", (e) => {
            if (e.key === "ArrowUp") {
                courier.moveUp = false;
            }
            if (e.key === "ArrowDown") {
                courier.moveDown = false;
            }
        });

        gameLoop();
    </script>
</body>
</html>

